To check your **disk space**, run this command on your VPS:

---

# âœ… **Check total & free disk space**

```bash
df -h
```

Example output will look like:

```
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1        80G   30G   48G  40% /
```

---

# âœ… **Check which folders are using space**

```bash
du -sh /*
```

This will show usage like:

```
4.0G   /var
2.3G   /usr
900M   /root
500M   /tmp
```

---

# âœ… **Check containerd / k3s disk usage**

K3s uses containerd, which often consumes many GB.

```bash
sudo du -sh /var/lib/rancher/k3s
sudo du -sh /var/lib/containerd
```

---

# â–£ **Send me your `df -h` output**

â¡ Then I will tell you:

âœ” If your disk is enough
âœ” Whether you should increase swap
âœ” If any folder is full
âœ” Whether Kubernetes will crash from low storage

Just run:

```
df -h
```

and paste the result here.


Great â€” I checked your **disk space**, and your system is in **excellent condition** for adding SWAP.

Letâ€™s break down the important parts:

---

# âœ… **1. Disk Space Summary (Your Server)**

```
/dev/vda1  = 155 GB total
Used       = 52 GB
Available  = 104 GB
Use%       = 34%
```

ğŸ‘‰ **You still have 104GB free**
ğŸ‘‰ You can safely create **8GB, 12GB, even 16GB swap** without any risk

This is perfect.

---

# âš¡ **2. Best Swap Size Based on Your RAM (8GB)**

| RAM | Recommended Swap | Ideal Swap |
| --- | ---------------- | ---------- |
| 8GB | 8GB              | 12GB       |

So your system will be best with:

### â­ **8GB swap (Best)**

OR

### â­ **12GB swap (if high load/50k requests)**

You have enough disk â†’ so 12GB is possible.

---

# ğŸš€ **3. Create 8GB Swap (Recommended)**

Run:

```bash
sudo swapoff -a
sudo rm -f /swapfile

sudo fallocate -l 8G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

Make permanent:

```bash
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

Check:

```bash
free -h
```

Expected:

```
Swap: 8.0G
```

---

# ğŸš€ **If you want 12GB swap (for 50k traffic)**

```bash
sudo swapoff -a
sudo rm -f /swapfile

sudo fallocate -l 12G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

Add to `/etc/fstab`:

```bash
/swapfile none swap sw 0 0
```

---

# âš ï¸ IMPORTANT NOTES

### âœ” SWAP does **not reduce RAM**

It uses **disk**, not memory.

### âœ” SWAP increases system stability

Prevents:

* Pod OOMKilled
* Kafka rebalance crash
* K3s panic
* JVM crash
* Node pressure memory errors

### âœ” You have huge disk (155GB)

So using 8â€“12GB swap is 100% safe.

---

# ğŸ§  Want me to tune swappiness?

Swappiness improves performance:

```
sudo sysctl vm.swappiness=10
```

To make permanent:

```
echo 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf
```

---

# ğŸ¯ If you want, I can optimize:

âœ” JVM
âœ” Kafka
âœ” Redis
âœ” K3s
âœ” Pod resources
âœ” HPA settings

Just say:

ğŸ‘‰ **â€œTune my memory for productionâ€**

